<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game Rater</title>
    <link rel="stylesheet" href="css/styles.css">

</head>
<body>
    <header>
        <h1 id="h1">Game Rater</h1>
        <form action="" id="searchBar">
            <label for="searchName">Find a game</label>
            <input type="text" name="searchName" id="searchName" placeholder="Enter a game name" size="25">
            <Button onclick="search();">Search for Game</Button>
        </form>
    </header>
    <script>
        function onLoad()
        {
            document.getElementById("ratingSection").hidden = true;
        }
        if(window.addEventListener)
        {
            window.addEventListener('load',onLoad,false);
        } 
        else 
        {
            window.attachEvent('onload',onLoad);
        }

        function search()
        {
            var searchedName = document.getElementById("searchName").value;

            searchedName = searchedName.toUpperCase();

            var gameName = "";
            var nameLength = searchedName.length;
            var c;
            for(var i = 0; i < nameLength; i++)
            {
                c = searchedName.charAt(i);
                if(c != " ")
                {
                    gameName += c;
                }
            }  
            alert(gameName);

            if(gameName == "PERSONA5")
            {
                document.write("Persona 5 is a masterpiece, with an average score of 100000000/10 this game should be played by everyone unless they want to miss the greatest videogame experience ever created by human beings");
            }
        }
    </script>

    <section id="startSection">
        <label for="gameName">What's the game name ?</label>
        <input type="text" name="gameName" id="gameName" placeholder="Persona 5" size="20">
        <Button onclick="createGraphs();">Ready to rate !</Button>
        <script>
            function createGraphs()
            {
                var nameOfRatedGame = document.getElementById("gameName").value;
                document.getElementById("h1").innerHTML = nameOfRatedGame;
                document.getElementById("startSection").hidden = true;
                document.getElementById("ratingSection").hidden = false;
            }
        </script>
    </section>

    <section id="ratingSection">
        <script>
            function restart()
            {
                document.getElementById("ratingSection").hidden = true;
                document.getElementById("startSection").hidden = false;
            }
        </script>
        
        <div id="genres">
            First Genre
            <select name="gameGenre1" id="">
            <option value="">None</option>
            <option value="fps">First Person Shooter</option>
            <option value="fg">Fighting Game</option>
            <option value="rpg">Role Playing Game</option>
            <option value="pf">Platformer</option>
            <option value="h&s">Hack & Slash</option>
            <option value="bta">Beat Them Up</option>
            <option value="act">Action</option>
            <option value="adv">Adventure</option>
            <option value="tb">Turn-Based Game</option>
            <option value="moba">Multiplayer Online Battle Arena</option>
            <option value="st">Strategy Game</option>
            <option value="rts">Real Time Strategy</option>
            </select>
            Second Genre
            <select name="gameGenre2" id="">
            <option value="">None</option>
            <option value="fps">First Person Shooter</option>
            <option value="fg">Fighting Game</option>
            <option value="rpg">Role Playing Game</option>
            <option value="pf">Platformer</option>
            <option value="h&s">Hack & Slash</option>
            <option value="bta">Beat Them Up</option>
            <option value="act">Action</option>
            <option value="adv">Adventure</option>
            <option value="tb">Turn-Based Game</option>
            <option value="moba">Multiplayer Online Battle Arena</option>
            <option value="st">Strategy Game</option>
            <option value="rts">Real Time Strategy</option>
            </select>
        </div>

        <form action="">
            <div class="ratingCriterias">
                <h3>Story</h3>
                <label for="">
                    <h4 class="meterText">Narrative</h4>
                    <meter value="0" min="0" max="100" class="meter" id="narr"></meter>
                    <input type="range" id="slider" oninput="changeScore(document.getElementById('narr'), document.getElementById('slider'));"/>
                </label>
                <label for="">
                    <h4 class="meterText">Characters</h4>
                    <meter value="0" min="0" max="100" class="meter" id="char"></meter>
                    <input type="range" id="slider2" oninput="changeScore(document.getElementById('char'), document.getElementById('slider2'));"/>
                </label>
                <label for="">
                    <h4 class="meterText">Lore</h4>
                    <meter value="0" min="0" max="100" class="meter" id="lo"></meter>
                    <input type="range" id="slider3" oninput="changeScore(document.getElementById('lo'), document.getElementById('slider3'));"/>

                </label>
            </div>

            <div class="ratingCriterias">
                <h3>Gameplay</h3>
                <label for="">
                    <h4 class="meterText">Mechanics</h4>
                    <meter value="0" min="0" max="100" class="meter" id="mech"></meter>
                    <input type="range" id="slider4" oninput="changeScore(document.getElementById('mech'), document.getElementById('slider4'));"/>
                    
                </label>
                <label for="">
                    <h4 class="meterText">Diversity/Pacing</h4>
                    <meter value="0" min="0" max="100" class="meter" id="divPac"></meter>
                    <input type="range" id="slider5" oninput="changeScore(document.getElementById('divPac'), document.getElementById('slider5'));"/>
                    
                </label>
            </div>

            <div class="ratingCriterias">
                <h3>Others</h3>
                <label for="">
                    <h4 class="meterText">Music</h4>
                    <meter value="0" min="0" max="100" class="meter" id="mu"></meter>
                    <input type="range" id="slider6" oninput="changeScore(document.getElementById('mu'), document.getElementById('slider6'));"/>
                    
                </label>
                <label for="">
                    <h4 class="meterText">Aesthetics</h4>
                    <meter value="0" min="0" max="100" class="meter" id="ae"></meter>
                    <input type="range" id="slider7" oninput="changeScore(document.getElementById('ae'), document.getElementById('slider7'));"/>
                    
                </label>
                <label for="">
                    <h4 class="meterText">Originality</h4>
                    <meter value="0" min="0" max="100" class="meter" id="og"></meter>
                    <input type="range" id="slider8" oninput="changeScore(document.getElementById('og'), document.getElementById('slider8'));"/>
                    
                </label>
            </div>
        </form>

        <div id="ratingEnd">
            <button onclick="confirmRating();" class="end">Confirm Rating</button>
            <button onclick="restart();" class="end">Restart</button>
        </div>
    </section>

    <footer>
        <h1 id="rating"></h1>
    </footer>
    <script>
        function changeScore(meter, slider)
        {

            var newMeter = meter;
            var newSlider = slider;
            newMeter.value = newSlider.value;
            meter = newMeter;
        }

        function confirmRating()
        {
            var totalScore = document.getElementById("og").value + document.getElementById("ae").value + document.getElementById("mu").value + document.getElementById("divPac").value
            + document.getElementById("mech").value + document.getElementById("lo").value + document.getElementById("char").value + document.getElementById("narr").value;
            
            var finalRating = totalScore * 1.25;
            document.getElementById("rating").innerHTML = document.getElementById("h1").innerHTML + " Total Score is... " + finalRating + "/100";
        }
    </script>
</body>
</html>